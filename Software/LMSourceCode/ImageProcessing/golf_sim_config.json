{
    "gs_config": {
        "logging": {
            "kLogIntermediateExposureImagesToFile": "0",
            "kLogIntermediateSpinImagesToFile": "0",
            "kLogWebserverImagesToFile": "1",
            "kLogDiagnosticImagesToUniqueFiles": "1",
            "kLinuxBaseImageLoggingDir": ".\/",
            "kPCBaseImageLoggingDir": "D:\\GolfSim\\LM\\Images\\"
        },
        "modes": {
            "kStartInPuttingMode": "0"
        },
        "ball_identification": {
            "kStrobedBallsCannyLower": "33",
            "kStrobedBallsCannyUpper": "90",
            "kStrobedBallsMinHoughReturnCircles": "8",
            "kStrobedBallsMaxHoughReturnCircles": "20",
            "NOTE-The following are NOT for externally-strobed (comparison-test)": "0",
            "kStrobedBallsMinParam2": "18",
            "kStrobedBallsMaxParam2": "140",
            "kStrobedBallsStartingParam2": "60",
            "kStrobedBallsParam2Increment": "4",
            "kStrobedBallsCurrentParam1": "130",
            "kStrobedBallsHoughDpParam1": "1.7",
            "kStrobedBallsPreCannyBlurSize": "3",
            "kStrobedBallsPreHoughBlurSize": "13",
            "kStrobedBallsUseAltHoughAlgorithm": "1",
            "kStrobedBallsAltCannyLower": "20",
            "kStrobedBallsAltCannyUpper": "90",
            "kStrobedBallsAltPreCannyBlurSize": "11",
            "kStrobedBallsAltPreHoughBlurSize HAS TO BE ODD": "0",
            "kStrobedBallsAltPreHoughBlurSize": "13",
            "kStrobedBallsAltMinParam2": "0.5",
            "kStrobedBallsAltMaxParam2": "1.0",
            "kStrobedBallsAltStartingParam2": "0.75",
            "kStrobedBallsAltParam2Increment": "0.05",
            "kStrobedBallsAltCurrentParam1": "130.0",
            "kStrobedBallsAltHoughDpParam1": "0.8",
            "kUseCLAHEProcessing": "1",
            "kCLAHEClipLimit": "8",
            "kCLAHETilesGridSize": "6",
            "kPuttingBallMinParam2": "0.8",
            "kPuttingBallMaxParam2": "1.0",
            "kPuttingBallStartingParam2": "0.9",
            "kPuttingBallParam2Increment": "0.03",
            "kPuttingBallCurrentParam1": "300.0",
            "kPuttingMinHoughReturnCircles": "6",
            "kPuttingMaxHoughReturnCircles": "25",
            "kPuttingHoughDpParam1": "1.5",
            "kPuttingPreHoughBlurSize": "9",
            "kPlacedBallCannyLower": "55",
            "kPlacedBallCannyUpper": "110",
            "kPlacedBallMinParam2": "0.8",
            "kPlacedBallMaxParam2": "1.0",
            "kPlacedBallStartingParam2": "0.9",
            "kPlacedBallParam2Increment": "0.03",
            "kPlacedBallCurrentParam1": "300.0",
            "kPlacedPreCannyBlurSize": "11",
            "kPlacedPreHoughBlurSize": "7",
            "kPlacedMinHoughReturnCircles": "1",
            "kPlacedMaxHoughReturnCircles": "4",
            "kPlacedBallHoughDpParam1": "1.5",
            "kPlacedBallUseLargestBall": "0",
            "kUseBestCircleRefinement": "0",
            "kUseBestCircleLargestCircle": "0",
            "kBestCircleCannyLower": "55",
            "kBestCircleCannyUpper": "110",
            "kBestCirclePreCannyBlurSize": "5",
            "kBestCirclePreHoughBlurSize": "13",
            "kBestCircleParam1": "300",
            "kBestCircleParam2": "0.65",
            "kBestCircleHoughDpParam1": "1.5",
            "kBestCircleIdentificationMinRadiusRatio": "0.90",
            "kBestCircleIdentificationMaxRadiusRatio": "1.2",
            "kUseDynamicRadiiAdjustment": "0",
            "kNumberRadiiToAverageForDynamicAdjustment": "2",
            "kStrobedNarrowingRadiiMinRatio": "0.7",
            "kStrobedNarrowingRadiiMaxRatio": "1.3",
            "kStrobedNarrowingRadiiDpParam": "1.5",
            "kStrobedNarrowingRadiiParam2": "0.8",
            "kPlacedNarrowingRadiiMinRatio": "0.9",
            "kPlacedNarrowingRadiiMaxRatio": "1.1",
            "kPlacedNarrowingStartingParam2": "0.9",
            "kPlacedNarrowingParam1": "300",
            "kPlacedNarrowingRadiiDpParam": "1.5"
        },
        "ball_position": {
            "kExpectedBallRadiusPixelsAt40cm": "87",
            "kMinMovedBallRadiusRatio": "0.6",
            "kMaxMovedBallRadiusRatio": "1.5",
            "kMinRadiusRatio": "0.8",
            "kMaxRadiusRatio": "1.7",
            "kTeedBallSearchAreaMaskRadiusRatio": "11.0",
            "kMinBallRadiusPixelsForProximityWarning": "160"
        },
        "ball_exposure_selection": {
            "kNumberHighQualityBallsToRetain": "2",
            "kMaximumOffTrajectoryDistance": "8",
            "kMaxStrobedBallColorDifferenceRelaxed": "70000",
            "kMaxPuttingBallColorDifferenceRelaxed": "40000",
            "kMaxStrobedBallColorDifferenceStrict": "30000",
            "kBallProximityMarginPercentRelaxed": "65",
            "kBallProximityMarginPercentStrict": "15",
            "kColorDifferenceRgbPostMultiplierForDarker": "4.0",
            "kColorDifferenceRgbPostMultiplierForLighter": "1.0",
            "kColorDifferenceStdPostMultiplierForDarker": "3.0",
            "kColorDifferenceStdPostMultiplierForLighter": "5.0",
            "kMaxDistanceFromTrajectory": "30.0",
            "kClosestBallPairEdgeBackoffPixels": "200",
            "kEARLIERMaxIntermediateBallRadiusChangePercent": "12.0",
            "kMaxRadiusDifferencePercentageFromBest": "35.0",
            "kMaxIntermediateBallRadiusChangePercent": "5.0",
            "kMaxPuttingIntermediateBallRadiusChangePercent": "8.0",
            "kMaxOverlappedBallRadiusChangeRatio": "1.3",
            "kUsePreImageSubtraction": "0",
            "kPreImageWeightingOverall": "0.0",
            "kPreImageWeightingBlue": "1.05",
            "kPreImageWeightingGreen": "1.2",
            "kPreImageWeightingRed": "1.0",
            "kMaxBallsToRetain": "30",
            "kUnlikelyAngleMinimumDistancePixels": "40",
            "kMaxQualityExposureLaunchAngle": "35",
            "kMinQualityExposureLaunchAngle": "-5",
            "kMaxPuttingQualityExposureLaunchAngle": "8",
            "kMinPuttingQualityExposureLaunchAngle": "-5",
            "kNumberAngleCheckExposures": "4"
        },
        "spin_analysis": {
            "kGaborMaxWhitePercent": "45",
            "kGaborMinWhitePercent": "39",
            "kCoarseXRotationDegreesIncrement": "4",
            "kCoarseXRotationDegreesStart": "-36",
            "kCoarseXRotationDegreesEnd": "36",
            "kCoarseYRotationDegreesIncrement": "5",
            "kCoarseYRotationDegreesStart": "-15",
            "kCoarseYRotationDegreesEnd": "15",
            "kCoarseZRotationDegreesIncrement": "4",
            "kCoarseZRotationDegreesStart": "-10",
            "kCoarseZRotationDegreesEnd": "110",
            "kWriteSpinAnalysisCsvFiles": "1"
        },
        "ipc_interface": {
            "kWebActiveMQHostAddress": "PITRAC_MSG_BROKER_FULL_ADDRESS",
            "kMaxCam2ImageReceivedTimeMs": "40000"
        },
        "user_interface": {
            "kWebServerTomcatShareDirectory": "WebShare",
            "kWebServerShareDirectory": "USE CMD LINE - Example:  --web_server_share_dir \/home\/PiTracUser\/LM_Shares\/Images\/",
            "kWebServerResultBallExposureCandidates": "ball_exposure_candidates",
            "kWebServerResultSpinBall1Image": "spin_ball_1_gray_image1",
            "kWebServerResultSpinBall2Image": "spin_ball_2_gray_image1",
            "kWebServerResultBallRotatedByBestAngles": "ball1_rotated_by_best_angles",
            "kWebServerCamera2Image": "log_cam2_last_strobed_img",
            "kWebServerLastTeedBallImage": "log_ball_final_found_ball_img",
            "kWebServerErrorExposuresImage": "log_cam2_last_strobed_img",
            "kWebServerBallSearchAreaImage": "log_cam1_search_area_img",
            "kRefreshTimeSeconds": "3"
        },
        "physical_constants": {
            "kBallRadiusMeters": "0.021335"
        },
        "strobing": {
            "number_bits_for_fast_on_pulse_": "3",
            "number_bits_for_slow_on_pulse_": "8",
            "kBaudRateForFastPulses": "115200",
            "kBaudRateForSlowPulses": "115200",
            "kLongerStrobePulseVectorDriver": [
                "0.175",
                "0.7",
                "1.4",
                "2.45",
                "1.26",
                "2.8",
                "2.1",
                "3.15",
                "3.85",
                "3.85",
                "1.4",
                "3.5",
                "0"
            ],
            "kStrobePulseVectorDriver": [
                "0.4",
                "1.4",
                "2.45",
                "1.26",
                "2.8",
                "2.1",
                "3.15",
                "3.85",
                "3.85",
                "7.5",
                "0"
            ],
            "kPuttingStrobeDelayMs": "50",
            "SLOWkStrobePulseVectorDriver": [
                "0.25",
                "1",
                "2",
                "3.5",
                "1.8",
                "4",
                "3",
                "4.5",
                "5.5",
                "5.5",
                "2",
                "5.0",
                "0"
            ],
            "kStrobePulseVectorPutter": [
                "2.5",
                "5.0",
                "8.0",
                "10.5",
                "8.5",
                "21.0",
                "21.0",
                "21.0",
                "21.0",
                "21.0",
                "21.0",
                "21.0",
                "0"
            ],
            "kDynamicFollowOnPulseVectorPutter": [
                "444.0"
            ],
            "kLastPulsePutterRepeats": "0",
            "OLDkStrobePulseVectorDriver": [
                "0.25",
                "1",
                "2",
                "3.5",
                "4.5",
                "4",
                "4.5",
                "6.7",
                "0"
            ],
            "OKkStrobePulseVectorPutter": [
                "5.0",
                "10.0",
                "16.0",
                "21.0",
                "17.0",
                "42.0",
                "42.0",
                "42.0",
                "42.0",
                "42.0",
                "42.0",
                "42.0",
                "0"
            ],
            "kStandardBallSpeedSlowdownPercentage": "0.5",
            "kPracticeBallSpeedSlowdownPercentage": "4.0",
            "kPuttingBallSpeedSlowdownPercentage": "5.2",
            "kBaudRatePulseMultiplier": "1.0",
            "kCameraRequiresFlushPulse": "0"
        },
        "image_capture": {
            "kMaxWatchingCropWidth": "96",
            "kMaxWatchingCropHeight": "88"
        },
        "cameras": {
            "kCameraMotionDetectSettings": ".\/assets\/motion_detect.json",
            "kCamera1FocalLength": "6.3540746079836135",
            "kCamera2FocalLength": "5.6139626527406525",
            "comment - kCamera1Gain = 6 and kCamera1Contrast=1.3 is good for practice ball. For regular ball, 3 and 1.5": "0",
            "kCamera1Gain": "1.0",
            "kCamera1HighFPSGain": "15.0",
            "kCamera1Contrast": "1.0",
            "kCamera2Gain": "4.0",
            "kCamera2ComparisonGain": "0.8",
            "kCamera2CalibrateOrLocationGain": "1.0",
            "kCamera2Contrast": "1.2",
            "kCamera2PuttingGain": "1.5",
            "kCamera2PuttingContrast": "1.2",
            "kCamera1StillShutterTimeuS": "40000",
            "kCamera2StillShutterTimeuS": "15000",
            "kCamera1PositionsFromExpectedBallMeters": [
                "-0.504",
                "-0.234",
                "0.491"
            ],
            "kCamera2PositionsFromExpectedBallMeters": [
                "0.0",
                "-0.051",
                "0.55"
            ],
            "kCamera2OffsetFromCamera1OriginMeters": [
                "0.03",
                "-0.19",
                "0.0"
            ],
            "kCamera1Angles": [
                "23.635975665951172",
                "-30.160914008469614"
            ],
            "kCamera2Angles": [
                "0.49757982304595894",
                "6.5071753678220761"
            ],
            "kCamera1XOffsetForTilt": "0",
            "kCamera1YOffsetForTilt": "0",
            "kCamera2XOffsetForTilt": "0",
            "kCamera2YOffsetForTilt": "0",
            "kCamera1DistortionVector": [
                "-4.797021803681398300e-01",
                "7.769914011402246912e-01",
                "7.304583064004496924e-03",
                "7.895441099139611021e-03",
                "-1.244209478500646116e+00"
            ],
            "kCamera1CalibrationMatrix": [
                [
                    "1.825268110451985876e+03",
                    "0.000000000000000000e+00",
                    "6.560920394665909043e+02"
                ],
                [
                    "0.000000000000000000e+00",
                    "1.827901989005196810e+03",
                    "5.319678162262430305e+02"
                ],
                [
                    "0.000000000000000000e+00",
                    "0.000000000000000000e+00",
                    "1.000000000000000000e+00"
                ]
            ],
            "kCamera2CalibrationMatrix": [
                [
                    "2.511465101195170064e+03",
                    "0.000000000000000000e+00",
                    "6.911494577906930772e+02"
                ],
                [
                    "0.000000000000000000e+00",
                    "2.542617537137948602e+03",
                    "5.453574259074516704e+02"
                ],
                [
                    "0.000000000000000000e+00",
                    "0.000000000000000000e+00",
                    "1.000000000000000000e+00"
                ]
            ],
            "kCamera2DistortionVector": [
                "-0.867817",
                "0.513270",
                "-0.007123",
                "0.007652",
                "4.371383"
            ],
            "kNumInitialCamera2PrimingPulses": "12",
            "kPauseBeforeCamera2PrimingPulsesMs": "2000",
            "kPauseBeforeSendingPreImageTriggerMs": "2000",
            "kPauseAfterSendingPreImageTriggerMs": "2000",
            "kPauseBeforeSendingImageFlushMs": "300",
            "kPauseBeforeSendingFinalImageTriggerMs": "2000",
            "kPauseBeforeSendingLastPrimingPulse": "1500",
            "kExpectedBallRadiusPixelsAt40cmCamera1": "87",
            "kExpectedBallRadiusPixelsAt40cmCamera2": "87"
        },
        "calibration": {
            "Looking out from cameras, positive X distance is to the right, positive y is up, and positive Z is outward": "0",
            "kAutoCalibrationBallPositionFromCamera1Meters": [
                "-0.110",
                "-0.275",
                "0.45"
            ],
            "kAutoCalibrationBallPositionFromCamera2Meters": [
                "0.01",
                "0.095",
                "0.435"
            ],
            "k_VERSION_1_ENCLOSURE_AutoCalibrationBallPositionFromCamera1Meters": [
                "-0.525",
                "-0.275",
                "0.45"
            ],
            "k_VERSION_1_ENCLOSURE_AutoCalibrationBallPositionFromCamera2Meters": [
                "0.0",
                "0.095",
                "0.435"
            ],
            "k_VERSION_2_ENCLOSURE_AutoCalibrationBallPositionFromCamera1Meters": [
                "-0.504",
                "-0.234",
                "0.491"
            ],
            "k_VERSION_2_ENCLOSURE_CENTER_BALL__AutoCalibrationBallPositionFromCamera1Meters": [
                "-0.118",
                "-0.234",
                "0.491"
            ],
            "k_VERSION_2_ENCLOSURE_AutoCalibrationBallPositionFromCamera2Meters": [
                "0.0",
                "0.088",
                "0.466"
            ],
            "kNumberPicturesForFocalLengthAverage": "6",
            "kTestAutoCalibrationFileName": "M:\\Dev\\PiTrac\\Software\\LMSourceCode\\Images\\autocalibrate_cam1_still_picture_1.png"
        },
        "golf_simulator_interfaces": {
            "kLaunchMonitorIdString": "PiTrac LM 0.1",
            "kSkipSpinCalculation": "0",
            "GSPro": {
                "kGSProComment": "USE CMD LINE OPTION - Example:  --gspro_host_address 10.0.0.47",
                "kGSProConnectAddress": "",
                "NEWkGSProConnectPort": "49152",
                "kGSProConnectPort": "0921"
            },
            "E6": {
                "kE6Comment": "USE CMD LINE - Exampe:  --e6_host_address 10.0.0.29",
                "kE6ConnectAddress": "",
                "kE6ConnectPort": "2483",
                "kE6InterMessageDelayMs": "50"
            }
        },
        "club_data": {
            "kEnableClubImages": "0",
            "kClubImageOutputDir": "\/home\/PiTracUserName\/LM_Shares\/Images\/",
            "kNumberFramesToSaveBeforeHit": "6",
            "kNumberFramesToSaveAfterHit": "8",
            "kClubImageWidthPixels": "340",
            "kClubImageHeightPixels": "200",
            "kClubImageCameraGain": "40",
            "kClubImageShutterSpeedMultiplier": "0.4"
        },
        "motion_detect_stage": {
            "kDifferenceM": "0.9",
            "kDifferenceC": "3.0",
            "kRegionThreshold": "0.05",
            "kMaxRegionThreshold": "0.05",
            "kFramePeriod": "0",
            "kHSkip": "2",
            "kVSkip": "2"
        },
      "testing": {
        "kBaseTestImageDir": "M:\/GolfSim\/TestImages\/First_Enclosure_2_Images\/",
        "kTwoImageTestTeedBallImage": "gs_log_img__log_ball_final_found_ball_img_Shot_2_2025-Jun-24_13.45.32-60cm-out-20-back.png",
        "kTwoImageTestStrobedImage": "gs_log_img__log_cam2_last_strobed_img_Shot_2_2025-Jun-24_13.45.43.png",
        "kAutomatedTestSuiteDirectory": "\/home\/mleary\/Dev\/PiTrac\/Software\/LMSourceCode\/Testing\/TestSuite_2025_02_07\/",
        "OLDkAutomatedTestSuiteDirectory": "M:\/Dev\/PiTrac\/Software\/LMSourceCode\/Testing\/TestSuite_2025_02_07\/",
        "kAutomatedTestExpectedResultsCSV": "Uneekor Comparison 2025-02-07_Small_Test.csv",
        "kAutomatedTestResultsCSV": "PiTrac_Test_Results.csv",
        "kAutomatedTestToleranceBallSpeedMPH": "4",
        "kAutomatedTestToleranceHLA": "3",
        "kAutomatedTestToleranceVLA": "2",
        "kAutomatedTestToleranceBackSpin": "250",
        "kAutomatedTestToleranceSideSpin": "300",
        "Externally strobed means there is another strobing source (another LM) that is being used along with PiTrac": "1",
        "kExternallyStrobedEnvNumber_bits_for_fast_on_pulse_": "5",
        "kExternallyStrobedEnvFilterImage": "0",
        "kExternallyStrobedEnvBottomIgnoreHeight": "110",
        "kExternallyStrobedEnvFilterHsvLowerH": "14",
        "kExternallyStrobedEnvFilterHsvUpperH": "48",
        "kExternallyStrobedEnvFilterHsvLowerS": "26",
        "kExternallyStrobedEnvFilterHsvUpperS": "255",
        "kExternallyStrobedEnvFilterHsvLowerV": "114",
        "kExternallyStrobedEnvFilterHsvUpperV": "255",
        "kExternallyStrobedEnvHoughLineIntersections": "58",
        "kExternallyStrobedEnvLinesAngleLower": "190",
        "kExternallyStrobedEnvLinesAngleUpper": "290",
        "kExternallyStrobedEnvMaximumHoughLineGap": "7",
        "kExternallyStrobedEnvMinimumHoughLineLength": "23",
        "kExternallyStrobedEnvCannyLower": "35",
        "kExternallyStrobedEnvCannyUpper": "80",
        "kExternallyStrobedEnvCurrentParam1": "130.0",
        "kExternallyStrobedEnvMinParam2": "40",
        "kExternallyStrobedEnvMaxParam2": "120",
        "kExternallyStrobedEnvStartingParam2": "0.65",
        "kExternallyStrobedEnvParam2Increment": "5",
        "kExternallyStrobedEnvNarrowingParam2": "0.7",
        "kExternallyStrobedEnvNarrowingDpParam": "0.9",
        "kExternallyStrobedEnvNarrowingPreCannyBlurSize": "1",
        "kExternallyStrobedEnvNarrowingPreHoughBlurSize": "9",
        "kExternallyStrobedEnvMinHoughReturnCircles": "6",
        "kExternallyStrobedEnvMaxHoughReturnCircles": "20",
        "kExternallyStrobedEnvPreCannyBlurSize": "7",
        "ORIGINALkExternallyStrobedEnvPreCannyBlurSize": "9",
        "kExternallyStrobedEnvPreHoughBlurSize": "9",
        "kExternallyStrobedEnvHoughDpParam1": "0.8",
        "kExternallyStrobedEnvMinimumSearchRadius": "55",
        "kExternallyStrobedEnvMaximumSearchRadius": "95",
        "kExternallyStrobedBestCircleCannyLower": "35",
        "kExternallyStrobedBestCircleCannyUpper": "70",
        "kExternallyStrobedBestCirclePreCannyBlurSize": "1",
        "kExternallyStrobedBestCirclePreHoughBlurSize": "9",
        "kExternallyStrobedBestCircleParam1": "130",
        "kExternallyStrobedBestCircleParam2": "0.7",
        "kExternallyStrobedBestCircleHoughDpParam1": "0.8",
        "The following controls the BestCircle algorithm when used with the ALT_GRADIENT mode": "55",
        "kExternallyStrobedALTBestCircleCannyLower": "5",
        "kExternallyStrobedALTBestCircleCannyUpper": "80",
        "kExternallyStrobedALTBestCirclePreCannyBlurSize": "7",
        "kExternallyStrobedALTBestCirclePreHoughBlurSize": "9",
        "kExternallyStrobedALTBestCircleParam1": "130",
        "kExternallyStrobedALTBestCircleParam2": "0.8",
        "kExternallyStrobedALTBestCircleHoughDpParam1": "1.3",
        "kExternallyStrobedUseCLAHEProcessing": "1",
        "kExternallyStrobedCLAHEClipLimit": "9",
        "kExternallyStrobedCLAHETilesGridSize": "3",
        "kInterShotInjectionPauseSeconds": "30",
        "test_shots_to_inject": {
          "1": {
            "SHOT - PiTrac - 11:05:43 -- 7": "0",
            "Speed": "70.2",
            "BackSpin": "4097",
            "SideSpin": "-379.0",
            "HLA": "-1.9",
            "VLA": "19.6"
          },
          "2": {
            "SHOT - UNeekor XO - 11:05:43 -- 7": "0",
            "Speed": "75.3",
            "BackSpin": "4880",
            "SideSpin": "-85",
            "HLA": "-1.8",
            "VLA": "18.5"
          }
        }
      }
    }
}
